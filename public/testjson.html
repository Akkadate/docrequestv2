<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON Validator - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏ü‡∏•‡πå JSON</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .error-message {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .success-message {
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .json-editor {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
            line-height: 1.4;
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <h2 class="mb-4">üîç JSON Validator - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏ü‡∏•‡πå JSON</h2>
        
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0">‡∏ß‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î JSON ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</h5>
                    </div>
                    <div class="card-body">
                        <textarea 
                            id="jsonInput" 
                            class="form-control json-editor" 
                            rows="15" 
                            placeholder="‡∏ß‡∏≤‡∏á JSON code ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà...&#10;&#10;‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:&#10;{&#10;  &quot;key1&quot;: &quot;value1&quot;,&#10;  &quot;key2&quot;: &quot;value2&quot;&#10;}"></textarea>
                        
                        <div class="mt-3">
                            <button id="validateBtn" class="btn btn-primary">
                                <i class="bi bi-check-circle"></i> ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö JSON
                            </button>
                            <button id="formatBtn" class="btn btn-secondary">
                                <i class="bi bi-code"></i> ‡∏à‡∏±‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö JSON
                            </button>
                            <button id="clearBtn" class="btn btn-outline-danger">
                                <i class="bi bi-trash"></i> ‡∏•‡πâ‡∏≤‡∏á
                            </button>
                        </div>
                        
                        <div id="result" class="mt-3"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="row mt-4">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header bg-info text-white">
                        <h6 class="mb-0">üõ† ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢</h6>
                    </div>
                    <div class="card-body">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">
                                <strong>Trailing Comma:</strong><br>
                                <code>{"key": "value",}</code> ‚ùå<br>
                                <code>{"key": "value"}</code> ‚úÖ
                            </li>
                            <li class="list-group-item">
                                <strong>Missing Comma:</strong><br>
                                <code>{"a": "1" "b": "2"}</code> ‚ùå<br>
                                <code>{"a": "1", "b": "2"}</code> ‚úÖ
                            </li>
                            <li class="list-group-item">
                                <strong>Single Quotes:</strong><br>
                                <code>{'key': 'value'}</code> ‚ùå<br>
                                <code>{"key": "value"}</code> ‚úÖ
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header bg-warning text-dark">
                        <h6 class="mb-0">üí° ‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö</h6>
                    </div>
                    <div class="card-body">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">
                                ‚úÖ ‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢ double quotes (<code>"</code>) ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
                            </li>
                            <li class="list-group-item">
                                ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö brackets <code>{}</code> ‡πÅ‡∏•‡∏∞ <code>[]</code> ‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö
                            </li>
                            <li class="list-group-item">
                                ‚úÖ ‡πÑ‡∏°‡πà‡πÉ‡∏™‡πà comma ‡∏´‡∏•‡∏±‡∏á property ‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢
                            </li>
                            <li class="list-group-item">
                                ‚úÖ ‡πÉ‡∏ä‡πâ escape characters ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö special characters
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const jsonInput = document.getElementById('jsonInput');
            const validateBtn = document.getElementById('validateBtn');
            const formatBtn = document.getElementById('formatBtn');
            const clearBtn = document.getElementById('clearBtn');
            const result = document.getElementById('result');

            // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö JSON
            function validateJSON() {
                const jsonText = jsonInput.value.trim();
                
                if (!jsonText) {
                    showMessage('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà JSON code ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö', 'warning');
                    return;
                }

                try {
                    const parsed = JSON.parse(jsonText);
                    showMessage('‚úÖ JSON ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î', 'success');
                    
                    // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
                    const keys = Object.keys(parsed);
                    const info = `
                        <div class="mt-2">
                            <small class="text-muted">
                                üìä ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô properties: ${keys.length}<br>
                                üîß ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå: ${new Blob([jsonText]).size} bytes
                            </small>
                        </div>
                    `;
                    result.innerHTML += info;
                    
                } catch (error) {
                    const errorMsg = error.message;
                    let lineNumber = '‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö';
                    let position = '‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö';
                    
                    // ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏´‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î
                    if (errorMsg.includes('position')) {
                        const posMatch = errorMsg.match(/position (\d+)/);
                        if (posMatch) {
                            position = posMatch[1];
                            // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏´‡∏≤ line number
                            const textBeforeError = jsonText.substring(0, parseInt(position));
                            lineNumber = textBeforeError.split('\n').length;
                        }
                    }
                    
                    const detailedError = `
                        ‚ùå ‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô JSON:<br>
                        <strong>‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î:</strong> ${errorMsg}<br>
                        <strong>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á:</strong> ${position}<br>
                        <strong>‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ó‡∏µ‡πà:</strong> ${lineNumber}
                    `;
                    
                    showMessage(detailedError, 'error');
                }
            }

            // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏±‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö JSON
            function formatJSON() {
                const jsonText = jsonInput.value.trim();
                
                if (!jsonText) {
                    showMessage('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà JSON code ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö', 'warning');
                    return;
                }

                try {
                    const parsed = JSON.parse(jsonText);
                    const formatted = JSON.stringify(parsed, null, 2);
                    jsonInput.value = formatted;
                    showMessage('‚úÖ ‡∏à‡∏±‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö JSON ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß', 'success');
                } catch (error) {
                    showMessage('‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡∏±‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÑ‡∏î‡πâ ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å JSON ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á: ' + error.message, 'error');
                }
            }

            // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏•‡πâ‡∏≤‡∏á
            function clearInput() {
                jsonInput.value = '';
                result.innerHTML = '';
                jsonInput.focus();
            }

            // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
            function showMessage(message, type) {
                let className = 'success-message';
                let icon = '‚úÖ';
                
                if (type === 'error') {
                    className = 'error-message';
                    icon = '‚ùå';
                } else if (type === 'warning') {
                    className = 'alert alert-warning';
                    icon = '‚ö†Ô∏è';
                }
                
                result.innerHTML = `<div class="${className}">${message}</div>`;
            }

            // Event listeners
            validateBtn.addEventListener('click', validateJSON);
            formatBtn.addEventListener('click', formatJSON);
            clearBtn.addEventListener('click', clearInput);

            // Keyboard shortcuts
            jsonInput.addEventListener('keydown', function(e) {
                if (e.ctrlKey && e.key === 'Enter') {
                    validateJSON();
                } else if (e.ctrlKey && e.shiftKey && e.key === 'F') {
                    formatJSON();
                }
            });
        });
    </script>
</body>
</html>
